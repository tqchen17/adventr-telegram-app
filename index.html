<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Adventr Player</title>
    <!-- This is the official Telegram Mini App script -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* Basic CSS to make the player fill the screen */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #000; /* Match the player background */
        }
        /* The smart embed handles its own sizing, but we ensure its container fills the page */
        #adventr-wrapper {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>

    <!-- 
      This is your Smart Embed code.
      We've wrapped it in a div to ensure it's centered and fills the screen if needed,
      but the inline styles on your embed should handle most of the work.
    -->
    <div id="adventr-wrapper">
      <div style="padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; max-width: 100%;"><iframe src="https://qa-player.adventr.me/stable/index.html?link=5701&custom-score=0" frameborder="0" scrolling="no" referrerpolicy="origin" allowfullscreen allow="autoplay; fullscreen; clipboard-read; clipboard-write; encrypted-media; geolocation; microphone; web-share" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></iframe></div>
    </div>

    <script>
        try {
            // Get the Telegram Web App instance
            const tg = window.Telegram.WebApp;

            // This function runs when the Mini App is ready
            tg.ready();

            // Let Telegram know the app is loaded and expand it to fill the screen
            tg.expand();

            // Optional: You can still access user data if you need it for analytics
            const user = tg.initDataUnsafe?.user;
            if (user) {
                console.log("Mini App launched by user:", user.id, user.first_name);
            }

        } catch (error) {
            console.error("Telegram Web App script not found or failed to initialize.", error);
            // You could show a message here if the page is opened outside of Telegram
        }
    </script>
</body>
</html>
